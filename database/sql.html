<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/png" sizes="16x16" href="/note/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/note/images/icons/favicon-32x32.png"><link rel="manifest" href="/note/manifest.webmanifest"><meta name="application-name" content="Note"><meta name="apple-mobile-web-app-title" content="Note"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/note/images/icons/apple-touch-icon.png"><link rel="mask-icon" href="/note/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>SQL | Note</title><meta name="description" content="学习笔记">
    <link rel="modulepreload" href="/note/assets/app.1b85994b.js"><link rel="modulepreload" href="/note/assets/sql.html.f819a1fd.js"><link rel="modulepreload" href="/note/assets/sql.html.6e78d559.js"><link rel="prefetch" href="/note/assets/index.html.e253c5aa.js"><link rel="prefetch" href="/note/assets/mongodb.html.ba760ae5.js"><link rel="prefetch" href="/note/assets/redis.html.13b4096a.js"><link rel="prefetch" href="/note/assets/css.html.f95f3c69.js"><link rel="prefetch" href="/note/assets/html.html.39700674.js"><link rel="prefetch" href="/note/assets/cache.html.93e6545a.js"><link rel="prefetch" href="/note/assets/cors.html.b524fe92.js"><link rel="prefetch" href="/note/assets/headers.html.a2a22a33.js"><link rel="prefetch" href="/note/assets/index.html.263d0402.js"><link rel="prefetch" href="/note/assets/index.html.c187833c.js"><link rel="prefetch" href="/note/assets/index.html.8064ac16.js"><link rel="prefetch" href="/note/assets/index.html.af7902b1.js"><link rel="prefetch" href="/note/assets/data-structure.html.8757d64c.js"><link rel="prefetch" href="/note/assets/index.html.dd1c2279.js"><link rel="prefetch" href="/note/assets/proxy.html.5a467ad4.js"><link rel="prefetch" href="/note/assets/404.html.265028f6.js"><link rel="prefetch" href="/note/assets/index.html.24ba762b.js"><link rel="prefetch" href="/note/assets/mongodb.html.52b889de.js"><link rel="prefetch" href="/note/assets/redis.html.1e4ae16c.js"><link rel="prefetch" href="/note/assets/css.html.86398771.js"><link rel="prefetch" href="/note/assets/html.html.f3db535a.js"><link rel="prefetch" href="/note/assets/cache.html.b4a099ec.js"><link rel="prefetch" href="/note/assets/cors.html.49f081db.js"><link rel="prefetch" href="/note/assets/headers.html.042ebeb4.js"><link rel="prefetch" href="/note/assets/index.html.011c790e.js"><link rel="prefetch" href="/note/assets/index.html.cb7af84d.js"><link rel="prefetch" href="/note/assets/index.html.94a9e37f.js"><link rel="prefetch" href="/note/assets/index.html.ab278a7b.js"><link rel="prefetch" href="/note/assets/data-structure.html.43204f0c.js"><link rel="prefetch" href="/note/assets/index.html.ff85ba13.js"><link rel="prefetch" href="/note/assets/proxy.html.e4a66516.js"><link rel="prefetch" href="/note/assets/404.html.06eb6b2e.js"><link rel="prefetch" href="/note/assets/404.38792ca2.js"><link rel="prefetch" href="/note/assets/Layout.1eda9f67.js">
    <link rel="stylesheet" href="/note/assets/style.27fb095d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/note/" class=""><img class="logo" src="/note/images/logo.png" alt="Note"><span class="site-name can-hide">Note</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端基础"><span class="title">前端基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端基础"><span class="title">前端基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/note/frontend-base/html.html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/frontend-base/css.html" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/frontend-base/javascript/" class="" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/vue2/" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/note/frame/vue3/" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>React</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Webpack</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="HTTP"><span class="title">HTTP</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="HTTP"><span class="title">HTTP</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/note/http/headers.html" class="" aria-label="HTTP Headers"><!--[--><!--]--> HTTP Headers <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/http/cache.html" class="" aria-label="HTTP 缓存"><!--[--><!--]--> HTTP 缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/http/cors.html" class="" aria-label="CORS"><!--[--><!--]--> CORS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/note/database/sql.html" class="router-link-active router-link-exact-active router-link-active" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/database/mongodb.html" class="" aria-label="Mongodb"><!--[--><!--]--> Mongodb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/database/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/renchao8697/note" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端基础"><span class="title">前端基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端基础"><span class="title">前端基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/note/frontend-base/html.html" class="" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/frontend-base/css.html" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/frontend-base/javascript/" class="" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/vue2/" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/note/frame/vue3/" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>React</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Webpack</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/note/frame/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="HTTP"><span class="title">HTTP</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="HTTP"><span class="title">HTTP</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/note/http/headers.html" class="" aria-label="HTTP Headers"><!--[--><!--]--> HTTP Headers <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/http/cache.html" class="" aria-label="HTTP 缓存"><!--[--><!--]--> HTTP 缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/http/cors.html" class="" aria-label="CORS"><!--[--><!--]--> CORS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/note/database/sql.html" class="router-link-active router-link-exact-active router-link-active" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/database/mongodb.html" class="" aria-label="Mongodb"><!--[--><!--]--> Mongodb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/note/database/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/renchao8697/note" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/note/database/sql.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#sql语句分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="SQL语句分类"><!--[--><!--]--> SQL语句分类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#ddl操作数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="DDL操作数据库"><!--[--><!--]--> DDL操作数据库 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#创建" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建"><!--[--><!--]--> 创建 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#查看数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看数据库"><!--[--><!--]--> 查看数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#修改数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改数据库"><!--[--><!--]--> 修改数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#删除数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除数据库"><!--[--><!--]--> 删除数据库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#其他语句" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他语句"><!--[--><!--]--> 其他语句 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/note/database/sql.html#ddl操作表" class="router-link-active router-link-exact-active sidebar-item" aria-label="DDL操作表"><!--[--><!--]--> DDL操作表 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#其他表操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他表操作"><!--[--><!--]--> 其他表操作 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/note/database/sql.html#dml操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="DML操作"><!--[--><!--]--> DML操作 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#插入操作-insert" class="router-link-active router-link-exact-active sidebar-item" aria-label="插入操作：INSERT"><!--[--><!--]--> 插入操作：INSERT <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#更新操作-update" class="router-link-active router-link-exact-active sidebar-item" aria-label="更新操作：UPDATE"><!--[--><!--]--> 更新操作：UPDATE <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#删除操作-delete" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除操作：DELETE"><!--[--><!--]--> 删除操作：DELETE <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/note/database/sql.html#dcl" class="router-link-active router-link-exact-active sidebar-item" aria-label="DCL"><!--[--><!--]--> DCL <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#创建用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建用户"><!--[--><!--]--> 创建用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#用户授权" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户授权"><!--[--><!--]--> 用户授权 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#用户权限查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="用户权限查询"><!--[--><!--]--> 用户权限查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#撤销用户权限" class="router-link-active router-link-exact-active sidebar-item" aria-label="撤销用户权限"><!--[--><!--]--> 撤销用户权限 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#删除用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除用户"><!--[--><!--]--> 删除用户 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/note/database/sql.html#dql-数据查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="DQL 数据查询"><!--[--><!--]--> DQL 数据查询 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/note/database/sql.html#简单查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="简单查询"><!--[--><!--]--> 简单查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#条件查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="条件查询"><!--[--><!--]--> 条件查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#模糊查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="模糊查询"><!--[--><!--]--> 模糊查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#字段控制查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="字段控制查询"><!--[--><!--]--> 字段控制查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#排序" class="router-link-active router-link-exact-active sidebar-item" aria-label="排序"><!--[--><!--]--> 排序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#聚合函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="聚合函数"><!--[--><!--]--> 聚合函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#分组查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="分组查询"><!--[--><!--]--> 分组查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/note/database/sql.html#limit" class="router-link-active router-link-exact-active sidebar-item" aria-label="LIMIT"><!--[--><!--]--> LIMIT <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/note/database/mongodb.html" class="sidebar-item sidebar-heading" aria-label="Mongodb"><!--[--><!--]--> Mongodb <!--[--><!--]--></a><!----></li><li><a href="/note/database/redis.html" class="sidebar-item sidebar-heading" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="sql" tabindex="-1"><a class="header-anchor" href="#sql" aria-hidden="true">#</a> SQL</h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h2><p>SQL：Structure Query language（结构化查询语言），SQL被美国国家标准局（ANSI）确定为关系型数据库语言的美国标准，后来被国际化标准组织（ISO）采纳为关系数据库语言的国家化标准。</p><p>各数据库厂商都支持ISO的SQL标准， <strong>普通话</strong></p><p>各数据库厂商在标准的基础上作出了自己的扩展，<strong>方言</strong></p><p>SQL是一种标准话的语言，它允许你在数据库上执行操作，如创建项目，查询内容，更新内容，删除条目等操作。</p><h2 id="sql语句分类" tabindex="-1"><a class="header-anchor" href="#sql语句分类" aria-hidden="true">#</a> SQL语句分类</h2><ul><li>DDL（DataDefinition Language）：数据定义语言，用来定义数据库对象，库、表、列等。</li><li>DML（Data Manipulation Language）：数据操作语言，用来定义数据库记录（数据）增删改。</li><li>DCL（Data Control Language）：数据控制语言，用来定义访问权限和安全级别。</li><li>DQL（Data Query Language）：数据查询语言，用来查询记录（数据）。</li></ul><h2 id="ddl操作数据库" tabindex="-1"><a class="header-anchor" href="#ddl操作数据库" aria-hidden="true">#</a> DDL操作数据库</h2><h3 id="创建" tabindex="-1"><a class="header-anchor" href="#创建" aria-hidden="true">#</a> 创建</h3><p>CREATE DATABASE语句用于创建新的数据库 编码方式：gb2312，utf-8，gbk，iso-8859-1</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- create database 数据库名</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb1<span class="token punctuation">;</span>
<span class="token comment">-- create database 数据库名 character set 编码方式</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb2 <span class="token keyword">character</span> <span class="token keyword">SET</span> GBK<span class="token punctuation">;</span>
<span class="token comment">-- create data 数据库名 set 编码方式 collate 排序规则</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb3 <span class="token keyword">character</span> <span class="token keyword">SET</span> GBK <span class="token keyword">COLLATE</span> gbk_chinese_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看数据库" tabindex="-1"><a class="header-anchor" href="#查看数据库" aria-hidden="true">#</a> 查看数据库</h3><p>查看当前数据库服务器中的所有数据库</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看前面创建的mydb2数据库的定义信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- show create database 数据库名</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydb2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改数据库" tabindex="-1"><a class="header-anchor" href="#修改数据库" aria-hidden="true">#</a> 修改数据库</h3><p>查看数据库，并把mydb2的字符集修改为utf8</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- alter database 数据库名 character set 编码方式</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> mydb2 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除数据库" tabindex="-1"><a class="header-anchor" href="#删除数据库" aria-hidden="true">#</a> 删除数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- drop database 数据库名</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> mydb3<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他语句" tabindex="-1"><a class="header-anchor" href="#其他语句" aria-hidden="true">#</a> 其他语句</h3><p>查看当前使用的数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> databse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>切换数据库</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- use 数据库名</span>
<span class="token keyword">USE</span> mydb2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ddl操作表" tabindex="-1"><a class="header-anchor" href="#ddl操作表" aria-hidden="true">#</a> DDL操作表</h2><p>CREATE TABLE语句用于创建新表</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- CREATE TABLE 表名(</span>
<span class="token comment">--   列名1 数据类型 [约束],</span>
<span class="token comment">--   列名2 数据类型 [约束],</span>
<span class="token comment">--   列名n 数据类型 [约束]</span>
<span class="token comment">-- );</span>
<span class="token keyword">CREATE</span> TABLSE employees<span class="token punctuation">(</span>
  id <span class="token keyword">INT</span><span class="token punctuation">,</span>
  age <span class="token keyword">INT</span><span class="token punctuation">,</span>
  <span class="token keyword">first</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">last</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常用数据类型：</p><ul><li>int：整型</li><li>double：浮点型，例如double(5,2)表示最多5位，其中必须有2位小数，即最大值为999.999，默认支持四舍五入</li><li>char：固定长度字符串类型，char(10)</li><li>varchar：可变长度字符串类型，varchar(10)</li><li>text：字符串类型，比如小说信息</li><li>blob：字节类型，保存文件信息（视频，音频，图片）</li><li>date：日期类型，格式为：yyyy-MM-dd</li><li>timer：时间类型，格式为：hh:mm:ss</li><li>timestamp：时间戳类型yyyy-MM-dd hh:mm:ss 会自动赋值</li><li>datetime：日期时间类型yyyy-MM-dd hh:mm:ss</li></ul><h3 id="其他表操作" tabindex="-1"><a class="header-anchor" href="#其他表操作" aria-hidden="true">#</a> 其他表操作</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 删除表 </span>
<span class="token comment">-- drop table 表名</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span>

<span class="token comment">-- 查砍当前数据库中的所有表</span>
<span class="token comment">-- show tables;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>

<span class="token comment">-- 查看表的字段信息</span>
<span class="token comment">-- desc 表名</span>
<span class="token keyword">DESC</span> employee<span class="token punctuation">;</span>

<span class="token comment">-- 增加列</span>
<span class="token comment">-- alter table 表名 add 新列名 新的数据类型</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employee <span class="token keyword">ADD</span> image <span class="token keyword">blob</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改列约束</span>
<span class="token comment">-- alter table 表名 change/modify 旧列名 新列名 新的数据类型</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employee <span class="token keyword">MODIFY</span> job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employee CHANGE job job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改列名</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">user</span> CHANGE name username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除列，一次只能删除一列</span>
<span class="token comment">-- alter table 表名 drop 列名</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employee <span class="token keyword">DROP</span> image<span class="token punctuation">;</span>

<span class="token comment">-- 修改表名</span>
<span class="token comment">-- alter table 旧表名 rename 新表明</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">user</span> <span class="token keyword">RENAME</span> users<span class="token punctuation">;</span>

<span class="token comment">-- 查看表格的创建细节</span>
<span class="token comment">-- show create table 表名</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">user</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改表的字符集为gbk</span>
<span class="token comment">-- alter table 表名 character set 编码方式</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">user</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dml操作" tabindex="-1"><a class="header-anchor" href="#dml操作" aria-hidden="true">#</a> DML操作</h2><p>DML是对表中的数据进行增、删、改的操作，包括：<code>INSERT</code>、<code>UPDATE</code>、<code>DELETE</code>。</p><h3 id="插入操作-insert" tabindex="-1"><a class="header-anchor" href="#插入操作-insert" aria-hidden="true">#</a> 插入操作：INSERT</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- insert into 表名（列名） values（数据值）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student<span class="token punctuation">(</span>stuname<span class="token punctuation">,</span> stuage<span class="token punctuation">,</span> stusex<span class="token punctuation">,</span> biithday<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 添加数据的时候可以省略列名，但要求值的顺序按照表名中的列排列</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;xiaobai&#39;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 同时添加多行</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student<span class="token punctuation">(</span>stuname<span class="token punctuation">,</span> stuage<span class="token punctuation">,</span> stusex<span class="token punctuation">,</span> birthday<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;xiaohong&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">&#39;xiaoqing&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">&#39;xiaobai&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入空置，使用null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新操作-update" tabindex="-1"><a class="header-anchor" href="#更新操作-update" aria-hidden="true">#</a> 更新操作：UPDATE</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- UPDATE 表名 SET 列名1=列值1,列名2=列值2 WHERE 列名=值</span>
<span class="token keyword">UPDATE</span> student name<span class="token operator">=</span><span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">12</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除操作-delete" tabindex="-1"><a class="header-anchor" href="#删除操作-delete" aria-hidden="true">#</a> 删除操作：DELETE</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- delete from 表名 【where 列名=值】</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">-- truncate table 表名</span>
<span class="token keyword">DELETE</span> <span class="token keyword">TABLE</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>DELETE删除表中的数据，表结构还在；删除后的数据可以找回</li><li>TRUNCATE删除是把表直接DROP掉，然后在创建一个同样的新表；删除的数据不能找回，执行速度比DELETE快</li></ul><h2 id="dcl" tabindex="-1"><a class="header-anchor" href="#dcl" aria-hidden="true">#</a> DCL</h2><h3 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户" aria-hidden="true">#</a> 创建用户</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- create user 用户名@指定ip identified by 密码;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">user</span> test123<span class="token variable">@localhost</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;test123&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- create user 用户名@客户端ip identified by 密码; 指定ip才能登陆</span>
<span class="token keyword">CREATE</span> <span class="token keyword">user</span> test123<span class="token variable">@192.168.1.1</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;test123&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- create user 用户名@&#39;%&#39; identified by 密码; 任意ip均可登陆</span>
<span class="token keyword">CREATE</span> <span class="token keyword">user</span> test123<span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;test123&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户授权" tabindex="-1"><a class="header-anchor" href="#用户授权" aria-hidden="true">#</a> 用户授权</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- grant 权限1,权限2 on 数据库名.* to 用户名@ip; 给指定用户授予指定数据库的指定权限</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">INSERT</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span><span class="token punctuation">,</span><span class="token keyword">DELETE</span><span class="token punctuation">,</span><span class="token keyword">CREATE</span> <span class="token keyword">ON</span> student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;test123&#39;</span><span class="token variable">@&#39;127.0.0.1&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- grant all on . to 用户名@ip; 给指定用户授予所有数据库所有权限</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;test123&#39;</span><span class="token variable">@&#39;127.0.0.1&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户权限查询" tabindex="-1"><a class="header-anchor" href="#用户权限查询" aria-hidden="true">#</a> 用户权限查询</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- show grants for 用户名@ip;</span>
<span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="撤销用户权限" tabindex="-1"><a class="header-anchor" href="#撤销用户权限" aria-hidden="true">#</a> 撤销用户权限</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- revoke 权限1,权限2 on 数据库名.* from 用户名@ip;</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户" aria-hidden="true">#</a> 删除用户</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- drop user 用户名@ip;</span>
<span class="token keyword">DROP</span> <span class="token keyword">user</span> test123<span class="token variable">@localhost</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dql-数据查询" tabindex="-1"><a class="header-anchor" href="#dql-数据查询" aria-hidden="true">#</a> DQL 数据查询</h2><p>语法：<code>SELECT</code> 列名 <code>FROM</code> 表名 【<code>WHERE</code> --&gt; <code>GROUP BY</code> --&gt; <code>HAVING</code> --&gt; <code>ORDER BY</code>】</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 要查询的列名
<span class="token keyword">FROM</span> 表名称
<span class="token keyword">WHERE</span> 限定条件
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 对结果分组
<span class="token keyword">HAVING</span> 分组后的行条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 对结果排序
<span class="token keyword">LIMIT</span> 结果限定
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="简单查询" tabindex="-1"><a class="header-anchor" href="#简单查询" aria-hidden="true">#</a> 简单查询</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询所有列</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>

<span class="token comment">-- 查询指定列</span>
<span class="token keyword">SELECT</span> sid<span class="token punctuation">,</span> sname<span class="token punctuation">,</span> age <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="条件查询" tabindex="-1"><a class="header-anchor" href="#条件查询" aria-hidden="true">#</a> 条件查询</h3><p>条件查询就是在查询时给出where子句，在where子句中可以使用如下运算符及关键字： <code>=</code>、<code>!=</code>、<code>&lt;&gt;</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>；<code>BETWEEN...AND</code>；<code>IN(...)</code>；<code>IS NULL</code>；<code>AND</code>；<code>OR</code>；<code>NOT</code>。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> gender<span class="token operator">=</span><span class="token string">&#39;female&#39;</span> <span class="token operator">AND</span> age<span class="token operator">&lt;</span><span class="token number">50</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> sid<span class="token operator">=</span><span class="token string">&#39;s_1001&#39;</span> <span class="token operator">OR</span> sname<span class="token operator">=</span><span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> sid <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;s_1001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s_1002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s_2001&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> sid <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;s_1001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s_1002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s_2001&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> age <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> age<span class="token operator">&gt;=</span><span class="token number">20</span> <span class="token operator">AND</span> age<span class="token operator">&lt;=</span><span class="token number">40</span><span class="token punctuation">;</span>
<span class="token comment">-- 包含20和40</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> age <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">AND</span> <span class="token number">40</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> gender<span class="token operator">!=</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> gender<span class="token operator">&lt;&gt;</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> <span class="token operator">NOT</span> gender<span class="token operator">=</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> <span class="token operator">NOT</span> name <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="模糊查询" tabindex="-1"><a class="header-anchor" href="#模糊查询" aria-hidden="true">#</a> 模糊查询</h3><ul><li><code>_</code>：任意一个字符</li><li><code>%</code>：任意0~n个字符</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询姓名由3个字构成的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;___&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名由5个字符构成，并且第5个字符为‘i’的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;___i&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名以‘z’开头的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;z%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名第二个字符为‘i’的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;_i%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询姓名中包含‘a’的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字段控制查询" tabindex="-1"><a class="header-anchor" href="#字段控制查询" aria-hidden="true">#</a> 字段控制查询</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 去除重复记录</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> sal <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- 查询雇员的月薪与佣金之和</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>comm <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- comm列的值可能为null</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- 给列添加别名</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> total <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- 给列起别名时，可以省略as</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> total <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="排序" tabindex="-1"><a class="header-anchor" href="#排序" aria-hidden="true">#</a> 排序</h3><p>语法：<code>order by</code> 列名 <code>asc</code>/<code>desc</code>，<code>asc</code>为升序，<code>desc</code>为降序，默认不写为升序。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">DESC</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">DESC</span><span class="token punctuation">,</span> name ACS<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数" aria-hidden="true">#</a> 聚合函数</h3><ul><li>count：统计指定列部位NULL的记录行数</li><li>max：计算指定列的最大值，如果列是字符串类型，那么使用字符串排序运算</li><li>min：计算指定列的最小值，如果列是字符串类型，那么使用字符串排序运算</li><li>sum：计算指定列的数值和，如果列类型不是数值类型，那么计算结果为0</li><li>avg：计算指定列的平均值，如果列类型不是数值类型，那么计算结果为0</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> cnt <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> EMP<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> EMP<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MIN</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分组查询" tabindex="-1"><a class="header-anchor" href="#分组查询" aria-hidden="true">#</a> 分组查询</h3><p>当需要分组查询时需要使用<code>GROUP BY</code>子句，<strong>如果查询语句中有分组操作，则select后面能添加的只能是聚合函数和被分组的列名</strong></p><h4 id="分组查询-1" tabindex="-1"><a class="header-anchor" href="#分组查询-1" aria-hidden="true">#</a> 分组查询</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询每个部门的编号以及这个部门的工资和</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>
<span class="token comment">-- 查询每个部门的表号以及这个部门的人数</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>
<span class="token comment">-- 查询每个部门的编号以及这个部门工资大于1500的人数</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal <span class="token operator">&gt;</span> <span class="token number">1500</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="having子句" tabindex="-1"><a class="header-anchor" href="#having子句" aria-hidden="true">#</a> HAVING子句</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询工资总和大于9000的部门编号以及工资和</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno <span class="token keyword">HAVING</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">9000</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>having</code>和<code>where</code>的区别：</p><ul><li><code>having</code>是在分组后对数据进行过滤，<code>where</code>是在分组前对数据进行过滤</li><li><code>having</code>后面可以使用分组函数（统计函数），<code>where</code>后面不可以使用分组函数</li></ul><h3 id="limit" tabindex="-1"><a class="header-anchor" href="#limit" aria-hidden="true">#</a> LIMIT</h3><p><code>LIMIT</code>是用来限定查询结果的起始行，以及总行数。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询5行记录，起始行从0开始</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">-- 分页查询</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token punctuation">(</span>pageIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> pageSize<span class="token punctuation">,</span> pageSize<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/renchao8697/note/edit/main/docs/database/sql.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: renchao8697@sina.com">renchao8697</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/note/database/mongodb.html" class="" aria-label="Mongodb"><!--[--><!--]--> Mongodb <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/note/assets/app.1b85994b.js" defer></script>
  </body>
</html>
